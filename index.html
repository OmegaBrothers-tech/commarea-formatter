<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COMMAREA FORMATTER | OmegaBroters.tech</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="./assets/js/header.js" defer></script>
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/geral.css" />
    <link rel="stylesheet" href="./assets/css/header.css" />
    <link rel="stylesheet" href="./assets/css/menu__item-modal.css" />
    <link rel="stylesheet" href="./assets/css/conteudo.css" />
    <link rel="stylesheet" href="./assets/css/conteudo-upload__book.css" />
    <link rel="stylesheet" href="./assets/css/conteudo-adicionar__campos.css" />
    <link rel="stylesheet" href="./assets/css/secao-campos-gerados.css" />
    <link rel="stylesheet" href="./assets/css/botoes-controle-commarea.css" />
    <link rel="stylesheet" href="./assets/css/resultado.css" />
    <link rel="stylesheet" href="./assets/css/descricao-ferramenta.css" />
    <link rel="stylesheet" href="./assets/css/footer.css" />
    <link rel="stylesheet" href="./assets/css/modal-copy-paste.css" />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <a href="#"><h1>COMMAREA FORMATTER</h1></a>
        <ul class="menu">
          <li class="menu__item doar">DOAR</li>
          <li class="menu__item ajuda">AJUDA</li>
        </ul>
        <div class="menu__item-modal modal-doar">
          <section class="modal-detalhe">
            <div class="modal-detalhe-header">
              <h1>DOAR</h1>
              <button class="fechar-modal">FECHAR</button>
            </div>
            <h2>
              Apoie-nos! Assim podemos continuar apoiando a comunidade
              coboleira.
            </h2>
            <p>
              Doando qualquer quantia, você está contribuindo para manter esta
              ferramenta e nos incentiva a desenvolver melhorias.
            </p>
            <p>Utilize qualquer uma das opções abaixo:</p>

            <div class="modal_doar-card-area">
              <div class="modal__doar-card">
                <h3>Doe via PayPal</h3>

                <!-- Estrutura de botao de doação do paypal - Não alterar -->
                <form
                  action="https://www.paypal.com/donate"
                  method="post"
                  target="_blank"
                >
                  <input
                    type="hidden"
                    name="hosted_button_id"
                    value="BWDLYSGVTQYSG"
                  />
                  <input
                    type="image"
                    src="https://www.paypalobjects.com/pt_BR/BR/i/btn/btn_donateCC_LG.gif"
                    border="0"
                    name="submit"
                    title="PayPal - The safer, easier way to pay online!"
                    alt="Faça doações com o botão do PayPal"
                  />
                  <img
                    alt=""
                    border="0"
                    src="https://www.paypal.com/pt_BR/i/scr/pixel.gif"
                    width="1"
                    height="1"
                  />
                </form>
              </div>
              <div class="modal__doar-card">
                <h3>Doe via PagSeguro</h3>

                <!-- Estrutura de botao de doação do paypal - Não alterar -->
                <!-- INICIO FORMULARIO BOTAO PAGSEGURO -->
                <form
                  action="https://pagseguro.uol.com.br/checkout/v2/donation.html"
                  method="post"
                  target="_blank"
                >
                  <!-- NÃO EDITE OS COMANDOS DAS LINHAS ABAIXO -->
                  <input type="hidden" name="currency" value="BRL" />
                  <input
                    type="hidden"
                    name="receiverEmail"
                    value="diego7cardoso@gmail.com"
                  />
                  <input type="hidden" name="iot" value="button" />
                  <input
                    type="image"
                    src="https://stc.pagseguro.uol.com.br/public/img/botoes/doacoes/120x53-doar.gif"
                    name="submit"
                    alt="Pague com PagSeguro - é rápido, grátis e seguro!"
                  />
                </form>
                <!-- FINAL FORMULARIO BOTAO PAGSEGURO -->
              </div>
              <div class="modal__doar-card">
                <h3>Doe via MercadoPago</h3>
                <!-- Estrutura de botao de doação do MercadoPago -->
                <a
                  href="https://link.mercadopago.com.br/omegabrotherstech"
                  target="_blank"
                  class="mercado-pago"
                >
                  <img
                    src="./assets/img/mercado-pago.png"
                    alt="Faça doações através do Mercado Pago"
                    title="Faça doações através do Mercado Pago"
                  />
                </a>
              </div>

              <div class="modal__doar-card">
                <h3>Doe via PicPay</h3>
                <!-- Estrutura de botao de doação do PicPay -->
                <a
                  href="https://app.picpay.com/user/diego.cardoso.moraes"
                  target="_blank"
                  class="picpay"
                >
                  <img
                    src="./assets/img/picpay.png"
                    alt="Faça doações através do PicPay"
                    title="Faça doações através do PicPay"
                  />
                </a>
              </div>
            </div>
            <p>
              Todas estas opções já são grandes conhecidos no mercado de
              pagamentos e consideradas muito seguras.
            </p>
            <p>
              Então você não precisa se preocupar com a segurança de seus dados.
            </p>

            <h3>O time OMEGABROTHERS.tech agradece imensamente o seu apoio!</h3>
          </section>
        </div>
        <div class="menu__item-modal modal-ajuda">
          <section class="modal-detalhe">
            <div class="modal-detalhe-header">
              <h1>AJUDA</h1>
              <button class="fechar-modal">FECHAR</button>
            </div>
            <h2>Modo de usar</h2>
            <div class="modal-ajuda-conteudo">
              <div class="modal-ajuda-instrucoes">
                <h3>Preenchimento Automático</h3>
                <ol>
                  <li>Cole os campos do COPYBOOK no campo indicado.</li>
                  <li>Clique no botão CARREGAR.</li>
                  <li>Preencha os valores desejados para cada campo.</li>
                  <li>Clique no botão GERAR COMMAREA. Pronto!</li>
                </ol>
              </div>
              <div class="modal-ajuda-instrucoes">
                <h3>Preenchimento manual</h3>
                <ol>
                  <li>
                    Insira a quantidade de campos desejada e clique em ADD.
                  </li>
                  <li>
                    Cada uma das caixas carregadas é composta por 3 campos:
                    tipo, tamanho e valor.
                  </li>
                  <li>
                    Escolha o tipo do campo: X - alfanumérico ou 9 - numérico.
                  </li>
                  <li>No próximo campo, insira o tamanho do campo</li>
                  <li>
                    Selecione o próximo campo e ele será preenchido
                    automaticamente com valores padrão:
                    <span>espaços ou zeros</span>
                  </li>
                  <li>
                    Faça o mesmo nas demais caixas e clique em GERAR COMMAREA;
                  </li>
                </ol>
              </div>
              <div class="modal-ajuda-instrucoes">
                <h3>Verificar COMMAREA</h3>
                <ol>
                  <li>Cole os campos do book de entrada no campo indicado;</li>
                  <li>Clique no botão Carregar;</li>
                  <li>
                    Com os campos gerados, clique no botão 'Limpar Campos'
                  </li>
                  <li>
                    Cole a sua COMMAREA no campo de texto ao lado do botão
                    REVALIDAR.
                  </li>
                  <li>Clique no botão REVALIDAR</li>
                  <li>
                    A COMMAREA será dividida e colocada em seus devidos campos.
                  </li>
                  <li>
                    Pronto! Agora você pode conferir se o layout e a COMMAREA
                    estão de acordo.
                  </li>
                </ol>
              </div>
              <div class="modal-ajuda-instrucoes">
                <h3>Dicas</h3>
                <ol>
                  <li>
                    Para facilitar a identificação de cada campo você pode
                    renomeá-los. Basta clicar sobre o nome do campo.
                  </li>
                  <li>
                    Você pode remover e adicionar campos livremente, não há
                    limite de campos.
                  </li>
                </ol>
              </div>
            </div>
          </section>
        </div>
      </div>
    </header>

    <div class="conteudo container">
      <!--------- AREA PARA LER BOOK -------------->
      <section id="upload" class="secoes upload__book">
        <div class="upload__book-instrucao">
          <img
            src="./assets/img/curved-arrow-share-svgrepo-com.svg"
            alt="Seta curva para a direita"
          />
          <p>
            Cole seu <strong>COPYBOOK</strong> na área ao lado e clique no botão
            <strong> CARREGAR. </strong>
          </p>
        </div>
        <textarea id="colar" name="colarBook" rows="25"></textarea>
        <button id="ler" title="Lê o COPYBOOK e o divide em campos">
          <span>CARREGAR</span>
        </button>
      </section>

      <!--------- Adicionar campos manualmente -------------->
      <section class="secoes adicionar__campos">
        <p>
          Ou adicione campos manualmente...<br />
          Digite a quantidade e clique em <strong>ADD</strong>:
        </p>
        <input type="text" id="qtidade" />
        <button class="button adicionar" title="Adiciona campos manualmente.">
          ADD
        </button>
      </section>
      
      <section class="ads">
        <script type="text/javascript">
	atOptions = {
		'key' : 'eaaba9f34f2ea1070cfcc897ddad260c',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
	document.write('<scr' + 'ipt type="text/javascript" src="http' + (location.protocol === 'https:' ? 's' : '') + '://www.profitabledisplayformat.com/eaaba9f34f2ea1070cfcc897ddad260c/invoke.js"></scr' + 'ipt>');
</script>
      </section>
      
      <!--------- DIV QUE CARREGA OS CAMPOS DINÂMICOS -------------->
      <section class="secao-campos-gerados">
        <div class="secao-campos-gerados-descricao">
          <div>
            <img
              src="./assets/img/down-arrow-sketch.svg"
              alt="Seta para baixo"
            />
            <p>Os campos do book serão carregados logo abaixo.</p>
          </div>
          <div>
            <img src="./assets/img/editsvg.svg" alt="Ícone de edição" />
            <p>
              Todos os campos do layout são editáveis, então sinta-se livre para
              alterar o que desejar.
            </p>
          </div>
          <div>
            <img src="./assets/img/thumbsup.svg" alt="Ícone de curtir" />
            <p>
              É possível carregar os campos do seu book e ainda adicionar mais
              campos manualmente.
            </p>
          </div>
        </div>
        <div class="secao-campos-gerados-detalhe"></div>
      </section>

      <!--------- BOTOES: GERAR, LIMPAR e RESET -------------->
      <section class="botoes-controle-commarea">
        <button
          id="botao2"
          title="Cria String/COMMAREA com o valor de todos os campos acima."
        >
          GERAR COMMAREA
        </button>

        <button id="botao3" title="Limpa o conteúdo de todos os campos">
          LIMPAR CAMPOS
        </button>

        <button id="botao5" title="Reseta toda a tela">RESET</button>
      </section>

      <!--------- AREA PARA RECEBER OS DADOS -------------->
      <section class="resultado">
        <div class="resultado-container">
          <div>
            <img
              src="./assets/img/down-arrow-sketch.svg"
              alt="Seta para baixo"
            />
            <p>
              Sua COMMAREA será gerada aqui! Basta copiá-la e realizar seus
              testes. Viu como é fácil!?
            </p>
          </div>
          <div>
            <p>
              Ah! Você também pode colar uma COMMAREA aqui para validar se está
              de acordo com layout do seu COPYBOOK. (deve ser uma
              <strong>STRING ÚNICA, SEM QUEBRA DE LINHAS </strong>).
            </p>
            <img
              class="seta-cima"
              src="./assets/img/down-arrow-sketch.svg"
              alt="Seta para cima"
            />
          </div>
        </div>
        <div class="resultado-container commarea">
          <textarea id="recebe"></textarea>
          <button id="invert" title="LÊ O COPYBOOK E GERA OS CAMPOS">
            REVALIDAR
          </button>
        </div>
        <p class="qtidade-caracs">
          Quatidade de caracteres: <strong><span id="carac">0</span></strong>
        </p>
      </section>
      <!--------- DESCRIÇÂO -------------->
      <section class="descricao-ferramenta">
        <div>
          <h3>O que é?</h3>
          <p>
            Você pode chamar de Formatador de Commarea COBOL, Gerador de Massa
            CICS, Copybook Parser ou algo do gênero, mas na real, esse troço vai
            te ajudar a gerar sua massa de entrada sem que você tenha que ficar
            contando tamanho de campo.
          </p>
        </div>

        <div>
          <h3>E pra quê serve?</h3>

          <p>
            Imagine que você precisa testar um programa COBOL, seja CICS Online
            ou BATCH, e precisa preencher a área de entrada ou criar um registro
            para o seu arquivo "NA MÃO"...
            <strong>Não! Você está fazendo isso errado!</strong>
          </p>
          <p>
            Com esta ferramenta você pode facilitar muito sua vida triste de
            desenvolvedor(a) COBOL, na hora de fazer seus testes unitários.
          </p>
          <p>
            Apenas cole seu COPYBOOK, clique no botão CARREGAR e veja a mágica
            acontecer! Depois é só preencher o que desejar em cada campo gerado
            e "Voilà", basta pegar sua COMMAREA, ou seu registro, prontinha para
            o teste.
          </p>
          <p>
            Para mais informações, clique em <strong>AJUDA</strong> (lá em
            cima).
          </p>
        </div>
        <h3>Enjoy, COBOLEIRO!</h3>
      </section>

      <div id="myModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content container">
          <h1>String/COMMAREA copiada para o clipboard!</h1>
          <h2>(Isso mesmo, está no seu CRTL + C)</h2>
        </div>
      </div>
    </div>

    <!--------- RODAPÉ -------------->
    <div class="footer">
      <div class="container">
        <p>Todos os direitos reservados &copy;2013</p>
        <p id="diego">OMEGABROTHERS.TECH</p>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    ////////////////Fun��o para remover zeros a esquerda//////////////////////////////////////////
    //String.prototype.startsWith = function(str) {return (this.match("^"+str)==str)}
    String.prototype.startsWith = function (str) {
      return this.indexOf(str) == 0;
    };

    //////////////////////////////////////////////////////////////////////////////////////////////
    var contCampo = 1;
    $(document).ready(function () {
      $("#colar").focus();
      $("#diego").html("Omegabrothers.tech");

      /////////////Inserir campos ao clicar no bot�o////////////////////////////////////////////////
      $(".adicionar").click(function () {
        // validar se o campo está vazio
        if (!$("#qtidade").val()) {
          return;
        }

        mostrarConteudo();

        var i = parseInt($("#qtidade").val());
        while (i > 0) {
          $(".secao-campos-gerados-detalhe").append(
            "<div id=" +
              contCampo +
              ' class="campo"><input type="text" class="titulo" value="Campo ' +
              contCampo +
              '"> PIC <select class="select"><option></option><option value="X"> X </option><option value="9"> 9 </option></select>(<input class="tamanho" type="text">) VALUE <input onfocus="preencher(this); $(this).select();" onblur="preencher(this)" class="book" type="text"><span class="fechar" title="remover" onclick="fechar(this)">X</span></div>'
          );
          contCampo++;
          i--;
        }

        scrollPage(".secao-campos-gerados");
      });
      //////////////////////////////////////////////////////////////////////////////////////////////

      /////////////Limpar campos////////////////////////////////////////////////////////////////////
      $("#botao3").click(function () {
        $("#qtidade").val("");
        $("#recebe").val("");
        $(".book").val("");
        contCampo = 1;
        $("#carac").html("0");
      });
      //////////////////////////////////////////////////////////////////////////////////////////////

      /////////////Resetar todos os campos//////////////////////////////////////////////////////////
      $("#botao5").click(function () {
        $("#colar").val("");
        $("#qtidade").val("");
        $("#recebe").val("");
        $(".campo").remove();
        contCampo = 1;
        $("#carac").html("0");
        scrollPage(".header");
      });
      //////////////////////////////////////////////////////////////////////////////////////////////

      //////////// Ler os dados colados na textarea e gerar campos automaticamente//////////////////
      $("#ler").click(function () {
        // validar se o campo está vazio
        if (!$("#colar").val()) {
          return;
        }
        mostrarConteudo();

        //quebra o campo em um vetor de strings
        var book = $("#colar").val().split(".");
        for (var i in book) {
          book[i] = $.trim(book[i]).toUpperCase();
          if (book[i].startsWith("*")) {
            continue;
          } else if (book[i].indexOf("PIC") < 1) {
            continue;
          } else {
            //tirar espacos antes e depois da string
            var str = book[i].toUpperCase();
            //dividir a string em dois usando PIC como separador
            str = str.split("PIC");
            //criar campo
            $(".secao-campos-gerados-detalhe").append(
              "<div id=" +
                contCampo +
                ' class="campo"><input type="text" class="titulo" value="Campo ' +
                contCampo +
                '"> PIC <select class="select"><option></option><option value="X"> X </option><option value="9"> 9 </option></select>(<input class="tamanho" type="text">) VALUE <input onfocus="preencher(this); $(this).select();" onblur="preencher(this)" class="book" type="text"><span class="fechar" title="remover" onclick="fechar(this)">X</span></div>'
            );
            //insere a primeira parte da string no nome do campo
            $("#" + contCampo + " .titulo").val(str[0]);
            //pegar o tipo
            str[1] = $.trim(str[1]).replace("S", ""); //Remove o S que indica o sinal, enquanto pesquisamos como montar a COMMAREA com sinal.

            var pic = str[1].substr(0, 1);
            if (pic === "S") {
              pic = 9;
            }
            $("#" + contCampo + " .select").val(pic);

            // pagar tamanho  gilmar adaptado
            var strPosV = " ";
            var strAntV = " ";

            var size = 0;
            var direita = 0;
            var esquerda = 0;
            var temVirgula = 0;

            //*****************************************************************
            //***                TRTAR CAMPO COM VIRGULA                   ****
            //*****************************************************************
            if (str[1].indexOf("V9") >= 0) {
              tamVirgula = 1;
              var strAntV = str[1].substr(0, str[1].indexOf("V"));
              var strPosV = str[1].substr(
                parseInt(str[1].indexOf("V")) + 1,
                str[1].length - parseInt(str[1].indexOf("V"))
              );

              //**************************************************************
              // ESQUERDA
              if (strAntV[1].indexOf("(") >= 0) {
                esquerda = strAntV.substr(2, strAntV.indexOf(")") - 2);
                while (esquerda.startsWith("0")) {
                  esquerda = esquerda.replace("0", "");
                }
              } else
                switch (strAntV) {
                  case "999999999999999999":
                    esquerda = 18;
                    break;
                  case "99999999999999999":
                    esquerda = 17;
                    break;
                  case "9999999999999999":
                    esquerda = 16;
                    break;
                  case "999999999999999":
                    esquerda = 15;
                    break;
                  case "99999999999999":
                    esquerda = 14;
                    break;
                  case "9999999999999":
                    esquerda = 13;
                    break;
                  case "999999999999":
                    esquerda = 12;
                    break;
                  case "99999999999":
                    esquerda = 11;
                    break;
                  case "9999999999":
                    esquerda = 10;
                    break;
                  case "999999999":
                    esquerda = 9;
                    break;
                  case "99999999":
                    esquerda = 8;
                    break;
                  case "9999999":
                    esquerda = 7;
                    break;
                  case "999999":
                    esquerda = 6;
                    break;
                  case "99999":
                    esquerda = 5;
                    break;
                  case "9999":
                    esquerda = 4;
                    break;
                  case "999":
                    esquerda = 3;
                    break;
                  case "99":
                    esquerda = 2;
                    break;
                  case "9":
                    esquerda = 1;
                    break;
                }

              // DIREITA
              if (strPosV[1].indexOf("(") >= 0) {
                direita = strPosV.substr(2, strPosV.indexOf(")") - 2);
                while (direita.startsWith("0")) {
                  direita = direita.replace("0", "");
                }
              } else
                switch (strPosV) {
                  case "999999999999999999":
                    direita = 18;
                    //console.log("d18");
                    break;
                  case "99999999999999999":
                    direita = 17;
                    //console.log("d17");
                    break;
                  case "9999999999999999":
                    direita = 16;
                    //console.log("d16");
                    break;
                  case "999999999999999":
                    direita = 15;
                    //console.log("d15");
                    break;
                  case "99999999999999":
                    direita = 14;
                    //console.log("d14");
                    break;
                  case "9999999999999":
                    direita = 13;
                    //console.log("d13");
                    break;
                  case "999999999999":
                    direita = 12;
                    //console.log("d12");
                    break;
                  case "99999999999":
                    direita = 11;
                    //console.log("d11");
                    break;
                  case "9999999999":
                    direita = 10;
                    //console.log("d10");
                    break;
                  case "999999999":
                    direita = 9;
                    //console.log("d 9");
                    break;
                  case "99999999":
                    direita = 8;
                    //console.log("d 8");
                    break;
                  case "9999999":
                    direita = 7;
                    //console.log("d 7");
                    break;
                  case "999999":
                    direita = 6;
                    //console.log("d 6");
                    break;
                  case "99999":
                    direita = 5;
                    //console.log("d 5");
                    break;
                  case "9999":
                    direita = 4;
                    //console.log("d 4");
                    break;
                  case "999":
                    direita = 3;
                    //console.log("d 3");
                    break;
                  case "99":
                    direita = 2;
                    //console.log("d 2");
                    break;
                  case "9":
                    direita = 1;
                    //console.log("d 1");
                    break;
                }

              ////console.log("Direita: " + direita);
              size = parseInt(direita) + parseInt(esquerda);
              ////console.log("Size Final: " + size);
            } else {
              size = str[1].substr(2, str[1].indexOf(")") - 2);
              //eliminar zeros a esquerda
              while (size.startsWith("0")) {
                size = size.replace("0", "");
              }
            }

            size = parseInt(size);
            $("#" + contCampo + " .tamanho").val(size);

            //preencher campo
            if (book[i].indexOf("VALUE") > 0) {
              if (pic == "X") {
                var valor = book[i].substr(book[i].indexOf("'") + 1, 8);
              }
              if (pic == "9") {
                var valor = $.trim(
                  book[i].substr(book[i].indexOf("VALUE") + 5, book[i].length)
                );
              }
            } else {
              var valor = $("#" + contCampo + " .book").val();
            }
            valor = completaCampo(pic, size, valor);
            $("#" + contCampo + " .book").val(valor);
            contCampo++;
          }
        }

        scrollPage(".secao-campos-gerados");
      });

      $("#invert").click(function () {
        var massa = $("#recebe").val();
        var contC = parseInt(
          $(".secao-campos-gerados-detalhe").children().length
        );

        for (var x = 1; x <= contC; x++) {
          var tam = parseInt($("#" + x + " .tamanho").val());
          var valor = massa.substr(0, tam);
          massa = massa.substr(tam, massa.length);
          $("#" + x + " .book").val(valor);
        }

        scrollPage(".secao-campos-gerados");
      });
    });
    //////////////////////////////////////////////////////////////////////////////////////////////

    //////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////completar o TAM-LAYOUT com zeros se for menor que 5/////////////////////////
    function autoComplete(objeto) {
      var v = objeto.value;
      var t = v.length;
      switch (t) {
        case 1:
          v = "0000" + v;
          break;
        case 2:
          v = "000" + v;
          break;
        case 3:
          v = "00" + v;
          break;
        case 4:
          v = "0" + v;
          break;
      }
      $(objeto).val(v);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////funcao � chamada no evento .focus() do input (.book)//////////////////////
    function preencher(objeto) {
      var tamanho = 0;
      var tipo = "";
      //pega o valor do combo de tipo (X,9)
      var id = objeto.parentNode.id;
      tipo = $("#" + id + " .select").val();

      //pega o valor do input anterior(tamanho) e atribui ao maxlength do input(.book)
      tamanho = parseInt($("#" + id + " .tamanho").val());
      $(objeto).attr("maxlength", tamanho);

      var valor = objeto.value;
      valor = completaCampo(tipo, tamanho, valor);

      $(objeto).val(valor);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////

    //////////////////////preenche o input de acordo com o tipo do campo (X, 9)/////////////////
    function completaCampo(tipo, tamanho, valor) {
      if (tipo == "X") {
        var tam = tamanho - valor.length;
        while (tam > 0) {
          valor = valor + " ";
          tam--;
        }
      } else if (tipo == "9") {
        var tam = tamanho - valor.length;
        while (tam > 0) {
          valor = "0" + valor;
          tam--;
        }
      }
      return valor;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////

    //////////////////////////remover campo///////////////////////////////////////////////////////
    function fechar(objeto) {
      $(objeto.parentNode).remove();
    }
    //////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////// Varrer todos os campos .book para formar uma string unica///////////////
    function i() {
      //pegar valor de todos os inputs e criar string unica

      var valor = $(".book")
        .map(function () {
          return $(this).val().toUpperCase();
        })
        .get()
        .join("");

      //pegar o tamanho da string para quebrar de 70 em 70 caracteres
      var max = valor.length;
      $("#carac").html(max);

      //quebrando a string a cada 70 caracteres
      /*var cont = 70;
       	var aux = valor.substr(0,70);
       	while(cont<=max){
       		aux = aux + "\r\n"+valor.substr(cont, 70);
       		cont+=70;
       	}
       	*/
      //aviso de limite de COMAREA
      if (max > 20480) {
        alert("Quatidade de bytes ultrapassou o limite 20Kb! ");
        $("#recebe").val("");
      } else {
        //$("#recebe").val(aux);
        $("#recebe").val(valor);
      }

      //copiar (CTRL+C) string gerada
      scrollPage(".resultado");
      $("#recebe").focus();
      $("#recebe").select();
      navigator.clipboard.writeText(valor);
      $("#myModal").fadeIn(500);
      $("#myModal").delay(1000);
      $("#myModal").fadeOut(1000);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////

    //chama a funcao i() no evento click do botao
    $("#botao2").click(i);

    function scrollPage(onde) {
      const praOndeVou =
        onde == ".resultado"
          ? $(".resultado").offset().top -
            ($(".botoes-controle-commarea").height() + $(".resultado").height())
          : $(onde).offset().top;

      // Funcao para scrollar a tela para a div em que os campos foram gerados
      $([document.documentElement, document.body]).animate(
        {
          scrollTop: praOndeVou,
        },
        1000
      );
    }

    function mostrarConteudo() {
      $(".secao-campos-gerados-detalhe").slideDown();
      $(".resultado ").slideDown();
      $(".botoes-controle-commarea").css("display", "flex");
    }
  </script>
</html>
